## 一、数据库概述

### 1. 为什么使用数据库

数据持久化的主要作用是将内存中的数据存储在关系型数据库中。

### 2. 数据库与数据库管理系统

#### 2.1 数据库的相关概念

```
DB:数据库（Database）
```

```
DBMS:数据库管理系统
```

```
SQL：结构化查询语言
```

#### 2.2 数据库与数据库管理系统关系

数据库管理系统可以管理多个数据库。

#### 2.3 常见的数据库管理系统

Oracle、MYSQL、sql server、hive

### 3. MySQL介绍

#### 3.1 概述

MySQL是一个开放源码的关系型数据库管理系统，底层用的是Linux内核

采用GPL协议。

### 4. RDBMS与非RDBMS

### 4.1 关系型数据库

#### 4.1.1 关系型数据库

是最古老的数据库类型，把复杂数据结果归为简单的二元关系

关系型数据库以行和列的形式，这一系列行和列被称为表

表与表之间的数据记录有关系。关系型数据库就是建立在关系模型基础上的数据库。

#### 4.1.2 优势

复杂查询 可以在一个表或多个表中进行查询

事务支持 对安全性能很高的数据访问要求得以实现

### 4.2 非关系型数据库

#### 4.2.1 介绍

非关系型数据库，不需要经过SQL层解析，性能非常高

#### 4.2.2 有哪些非关系型数据库

mongdb、Redis、Elasticsearch

##### 键值型数据库

键值型数据库作为内存缓存，Redis是最流行的键值型数据库

##### 文档型数据库

此类数据库可存放并获取文档，可以是XML、Json等格式。mongdb是最流行的文档型数据库

##### 搜索引擎数据库

搜索引擎会爬取大量的数据，并以特定的格式进行存储，保持最优。elastic search，核心原理是“倒排索引”

##### 列式数据库

Oracle、MySQL、SQL server等数据库都是采用行式存储，而列式数据库是将数据按照列存储到数据库中，大量降低系统I/O.hbase是典型的列式数据库

### 5. 关系型数据库设计规则

关系型数据库的典型结构就是数据表，这些数据表就结构化的

#### 5.1 表、记录、字段

E-R 模型中有三个概念：实体集、属性、联系集

一个实体集（class）对应于数据库中的一个表（table），一个实体（instance）则对应数据表中的一行，也称为一条记录，一个属性对应表中的一列，也成为一个字段

```
ORM思想
数据库中的一个表 JAVA或python中的一个类
表中的一条数据 类中一个对象（或实体对应）
表中的一个列 	类中的一个字段、属性（field）
```

#### 5.2 表的关联关系

表与表的数据记录有关系

四种：一对一关联、一对多关联、多对多关联、自我引用

#### 5.2.1 一对一关联

不多，因为一对一可以创建成一张表

两种建表原则：

外键唯一：主表的主键和从表的外键（唯一），形成主外键关系，外键唯一。

外键是主键：主表的主键和从表的主键，形成主外键关系。

#### 5.2.2 一对多关系

一对多原则：在表（多方）创建一个字段，字段作为外键指向主表（一方）的主键

#### 5.2.3 多对多

表示多对多，必须创建第三个表，称为联接表

#### 5.2.4 自我引用

自己引用自己