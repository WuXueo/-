# 2. jQuery 常用API

### 2.1 jQuery选择器

```
$("选择器")		//里面选择器直接写css选择器即可，但要加引号
```

###### 常见选择器：

$("#id")   ID选择器

$("*") 全选择器

$("div")  标签选择器

$(".class") 类选择器

$("div,p,li") 并集选择器

$("li.currrent") 交集选择器

#### 2.1.2 隐式迭代

把所有元素内部进行遍历循环，给每个元素添加css这个方法。

#### 2.1.3 jQuery 设置样式

```
$("div").css('属性'，'值')；
```

#### 2.1.4 jQuery 筛选选择器

```
$("li:first")		// 获取第一个li元素
$("li:last")		// 获取最后一个li元素
$("li:eq(2)")		// 获取到li元素 选择索引号为2的元素
$("li:odd")			// 获取到的li元素 选择索引号为奇数的元素
$"("li:even")		// 获取到的li元素，选择索引号为偶数的元素 	
```

#### 2.1.5 jQuery筛选方法（重点）

```
$("li").parent();		// 查找父级（最近的爸爸）
$('ul').chirldren('li');	// 相当于最近一级（最近的儿子）
$("ul").find('li');		// 相当于后代选择器 （所有儿子）
$('.first').siblings('li');		// 查找兄弟节点，不包括自身
$('.first').nextAll();		//查找当前元素之后所有的同辈元素
$('.last').prevAll();		// 查找当前元素之前所有同辈元素
$('div').hasClass('protected');	//检查当前的元素是否含有某个特定的类
$('li').eq(2);				// 相当于$('li:eq(2)')index从0开始		
```

#### 2.1.6 链式编程

**注意：**使用链式编程时，一定要注意给谁做操作。

### 2.2 jQuery样式操作

#### 2.2.1 操作CSS方法

可以用来修改简单元素样式，也可以操作类，修改多个样式。

```
$(this).css('color');		//参数只写属性名，返回属性值
```

``` 
$(this).css('color','black')	// 修改样式 必须加属性名属性值 必须加引号
```

**注意：**如果是数字可以不加单位和引号

```
$(this).css({'color':'white','font-size':'20px'})	//参数可以是对象形式
```

**注意：** 属性名和属性值用冒号隔开。数字（属性）可以不用加引号。

​			属性要采用驼峰命名法。

#### 2.2.2 设置类样式方法

作用等同于以前的classlist,可以操作类样式，注意操作类里面的参数不加点

```
$('div').addClass('current');		//添加类
```

这个addClass 相当于追加类名 不影响以前的类名

```
$('div').removeClass('current');			// 删除类
```

```
$('div').toggleClass('current');			// 切换类
```

**注意：**Class必须C大写，类名里面不写点

### 2.3 jQuery效果

```
show()
hide()
toggle()				// 显示隐藏
```

```
slideDown()	
slideUp()
slideToggle()			// 滑动
```

```
fadeln()
fadeOut()
fadeToggle()
fadeTo()				// 淡入淡出
```

```
animate()				// 自定义动画
```

#### 2.3.1 显示隐藏效果

```
show([speed,[easing],[fn]])			// 显示语法
```

**注意：**

1. 参数可以省略，无动画直接显示。

2. spped :(slow,normal,fast)或动画时长毫秒数（如：1000）
3. easing:（option）用来指定切换效果，默认'swing'，可用参数'linear'。
4. fn:回调函数，在动画完成时执行的函数，每个元素执行一次。

```
hide([speed,[easing],[fn]])			// 隐藏语法
```

**注意：**

1. 参数可以省略，无动画直接显示。

2. spped :(slow,normal,fast)或动画时长毫秒数（如：1000）
3. easing:（option）用来指定切换效果，默认'swing'，可用参数'linear'。
4. fn:回调函数，在动画完成时执行的函数，每个元素执行一次。

```
toggle([speed,[easing],[fn]])			// 切换语法
```

**注意：**

1. 参数可以省略，无动画直接显示。

2. spped :(slow,normal,fast)或动画时长毫秒数（如：1000）
3. easing:（option）用来指定切换效果，默认'swing'，可用参数'linear'。
4. fn:回调函数，在动画完成时执行的函数，每个元素执行一次。

#### 2.3.2 滑动效果

```
slideDown()					// 下拉菜单
```

```
slideUp()					// 上拉菜单
```

```
slideToggle()				// 切换
```

#### 2.3.3 事件切换

```
hover([over],[out])				// 是鼠标经过离开的复合写法
```

**注意：**

1. 如果hover里面只写一个函数，那么鼠标经过和鼠标离开都会触发这个函数
2. hover是鼠标经过离开的复合写法

#### 2.3.4 动画队列即停止排队方法

###### 1. 动画或效果队列

动画或者效果一旦触发就会执行，如果多次触发，就造成多个动画或效果排队执行。

###### 2. 停止排队

```
stop()
```

**注意：**必须写在动画前面。

#### 2.3.5 淡入效果

```
fadeIn() 					// 淡入效果			
```

```
fadeOut()					// 淡出效果
```

```
fadeToggle()				// 淡入淡出切换 
```

```
fadeTo([speed],opacity,[easing],[fn])		// 渐进方法调整到指定的不透明度
```

**注意：**

1. opacity 透明度必须写，取值0-1之间
2.  speed：三种预定速度之一的字符串(’slow‘,'normal'，’fast‘)或表示动画时长的毫秒数值，必须写。
3.  easing: 用来指定切换效果，默认为’swing‘，可用参数’linear‘

#### 2.3.6 自定义动画

```
animate(params,[speed],[easing],[fn])
```

**注意：**

1. params : 想要更改的样式属性，以形式传递，必须写。属性名可以不用带引号，如果是复合属性必须采用驼峰命名法。
2. speed：三种预定速度之一的字符串(’slow‘,'normal'，’fast‘)或表示动画时长的毫秒数值，必须写。
3.  easing: 用来指定切换效果，默认为’swing‘，可用参数’linear‘。
4. fn:回调函数。

### 2.4 jQuery属性操作

#### 2.4.1 设置或获取元素有属性值 prop()

```
element.prop('属性值')				// 获取属性值
```

```
element('属性','属性值')				// 设置属性语法
```

#### 2.4.2 设置或获取元素自定义属性值attr()

```
attr('属性')							// 获取自定义属性
```

```
attr('属性','属性值')					// 设置属性方法
```

#### 2.4.3 数据缓存 data()

```
data('属性名')						// 数据存放在元素的内存里面
```

**注意：**data()获取属性 不用写data-	而且返回的是数字型

### 2.5 jquery 内容文本值

主要针对元素内容还有表单的值。

#### 2.5.1 普通元素内容html()  相当于原生（innerHTML）

```
html()			// 获取元素的内容（带标签一起获取）
```

```
html("内容")		// 设置元素的内容
```

#### 2.5.2 普通元素文本内容text() 相当于原生（innerText）

```
text()				// 获取文本
```

```
text('内容')			// 修改内容
```

#### 2.5.3 获取设置表单val()

```
val()					//获取表单值
```

```
val('')					// 设置表单的值
```

**注意：**

1. parents('选择器')可以返回指定祖先元素。

2. 元素.toFixed(2)保留两位小数。

### 2.6 jQuery元素操作

主要是遍历、创建、添加、删除元素等。

#### 2.6.1 遍历元素

隐式迭代是对同一类元素做了同样的操作。如果想要给同一类元素做不同操作，就得需要遍历。

```
$('div').each(function(index,domEle){....})
```

**注意：**

1. each()方法遍历匹配的每一个元素
2. 里面的回调函数有两个参数：index 是每个元素的索引号；demEle是每个DOM元素对象，不是jQuery对象

```
$.each(object,function(index,element){......})
```

**注意：**

1. $.each()方法可用于遍历任何对象。主要用于数组，对象
2. 里面的函数有2个参数：index是每个元素的索引号；element遍历内容

#### 2.6.2 创建元素

```
$("<li></li>");					// 动态创建Li标签				
```

#### 2.6.3 添加元素

###### 内部添加

```
element.append('内容');			// 内部添加 并且放在内容最后面
```

**注意：**类似于原生的appendChild

```
element.prepend('内容');			//内部添加	并且放在内容的最前面
```

###### 外部添加

```
element.after(‘内容);				// 把内容放在目标元素后面
```

```
element.before('内容');			// 把内容放入目标元素前面
```

**注意：**

内部添加元素，生成之后，他们是父子关系

外部添加元素后，生成之后，他们是兄弟关系

#### 2.6.4 删除元素

```
element.remove()				// 删除匹配的元素（自杀）
```

```
element.empty()					// 删除子节点
```

```
element.html('');				// 删除子节点
```

### 2.7 jQuery 尺寸、位置操作

#### 2.7.1 jQuery 尺寸

```
width()/height()				// 取得匹配元素宽度和高度值 只算width/height
innerWidth()/innerHeight()		// 取得匹配元素宽度和高度值 包含padding
outWidth()/outHeight()			// 取得匹配元素宽度和高度值 包含padding、border
outWidth(true)/outHeight(true)	// 取得匹配元素宽度和高度值 包含padding、border、margin
```

**注意：**

1. 以上参数为空，则获取相应的值，返回的是数字型
2. 如果参数为数字，则修改相应值
3. 参数可以不写单位

#### 2.7.2 jQuery 位置

```
offset()
```

**注意：**

1.  返回被选元素距离文档位置的距离，跟父级没有关系

2. 该方法有两个属性 left、top 用于获取距离文档顶部/左侧的距离 offset().top
3.  可以设置元素的偏移: offset({top:10,left:30});

```
position()
```

**注意：** 

1. 获取距离带有定位父级位置（偏移），如果没有带有定位的父级，则以文档为准
2. 这个方法不能设置偏移

```
scrollTop()						// 页面滚动事件
scrollLeft()
```

**注意**：

被卷曲的头部和左侧

### 2.8 jQuery事件

#### 2.8.1 jQuery事件注册

```
element.事件(function(){})
```

**注意：** 这个是单个事件绑定

#### 2.8.2 jQuery事件处理

##### 1. 事件处理 on() 绑定事件

on()方法在匹配元素上绑定一个或多个事件的事件处理函数

```
element.on(events,【selectors】fn)
```

**注意：**

1. events:一个或多个用空格分隔的事件类型
2. selectors：元素的子元素选择器
3. fn: 回到函数，即绑定在元素身上的侦听函数

######  **on()还可以委派**

###### on()可以动态创建元素绑定事件

##### 2. 事件处理off()解绑事件

可以移除on()方法添加的事件处理程序

```
$('p').off()			// 解除所有的绑定事件
$('p').off('click')		// 解除点击事件
$('ul').off('click','li')		// 解除事件委托	
```

**如果有的事件只想触发一次，可以用one()来绑定事件**

##### 3. 自动触发事件trigger()

```
ele.click()			// 触发事件
ele.trigger('事件')		
ele.triggerHandler(type)		// 不会触发元素的默认行为（没光标闪）
```

#### 2.8.3 jQuery事件对象

```
$('元素').on('click',function(event){});
```

```
event.preventDefault() 或 return false			// 阻止默认行为
event.stopPropagation()							// 阻止冒泡
```

### 2.9 jQuery的其他方法

#### 2.9.1 jQuery拷贝对象

```
$.extend([deep],target,object1,[objectN])
```

**注意：**

1. deep:如果设为true就是深拷贝，默认为false 浅拷贝
2.  target:要拷贝的目标对象
3.  object1: 待拷贝到第一个对象的对象
4. **浅拷贝**把按原来对象里面的复杂数据类型**地址**拷贝给目标对象
5. **深拷贝**把里面的**数据**完全复制一份给目标对象，如果里面有不冲突的属性，就会合并在一起

#### 2.9.2 多库并存

jQuery 使用$标识符，其他js库也可能会有$，一起使用会引起冲突。

解决这一问题，可以同时存在，就叫做多库共存

```
jQuery('div')		// 将$换成jQuery
$.noConflict()		// 定义变量新名称 var xx = $.noConflict() $不冲突
```

#### 2.9.3 jQuery插件

1. 瀑布流

2.  图片懒加载（减轻服务器负载）

   滑动到可视区域，在显示图片

​		ctrl+h   替换

3. bootstrap框架
